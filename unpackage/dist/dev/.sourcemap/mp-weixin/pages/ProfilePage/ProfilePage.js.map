{"version":3,"file":"ProfilePage.js","sources":["pages/ProfilePage/ProfilePage.vue","../../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvUHJvZmlsZVBhZ2UvUHJvZmlsZVBhZ2UudnVl"],"sourcesContent":["<template>\n  <view class=\"profile-container\">\n    <!-- 顶部个人信息区 -->\n    <view class=\"profile-header\">\n      <view class=\"header-content\">\n        <view class=\"avatar-section\" @click=\"handleAvatarClick\">\n          <image \n            :src=\"userInfo.avatar || '/static/default-avatar.png'\" \n            class=\"avatar\"\n            mode=\"aspectFill\"\n          ></image>\n          <view class=\"edit-hint\">点击修改</view>\n        </view>\n        \n        <view class=\"user-info\">\n          <view class=\"nickname-row\">\n            <text class=\"nickname\">{{ userInfo.nickname }}</text>\n            <view class=\"edit-btn\" @click=\"handleEditProfile\">\n              <image src=\"/static/icons/edit.png\" class=\"edit-icon\"></image>\n            </view>\n          </view>\n          \n          <view class=\"bio\" @click=\"handleEditBio\">\n            {{ userInfo.bio || '点击添加个人介绍...' }}\n          </view>\n\n          <!-- 统计信息 -->\n          <view class=\"stats\">\n            <view class=\"stat-item\">\n              <text class=\"stat-num\">{{ userInfo.postsCount }}</text>\n              <text class=\"stat-label\">发布</text>\n            </view>\n            <view class=\"stat-item\">\n              <text class=\"stat-num\">{{ userInfo.likesCount }}</text>\n              <text class=\"stat-label\">获赞</text>\n            </view>\n            <view class=\"stat-item\">\n              <text class=\"stat-num\">{{ userInfo.level }}</text>\n              <text class=\"stat-label\">等级</text>\n            </view>\n          </view>\n        </view>\n      </view>\n\n      <!-- 成就展示 -->\n      <scroll-view scroll-x class=\"achievements\" :show-scrollbar=\"false\">\n        <view \n          v-for=\"achievement in achievements\" \n          :key=\"achievement.id\" \n          class=\"achievement-item\"\n        >\n          <image :src=\"achievement.icon\" class=\"achievement-icon\"></image>\n          <text class=\"achievement-name\">{{ achievement.name }}</text>\n        </view>\n      </scroll-view>\n    </view>\n\n    <!-- 内容分类标签页 -->\n    <view class=\"content-tabs\">\n      <view \n        class=\"tab-item\" \n        :class=\"{ active: activeTab === 'posts' }\"\n        @click=\"switchTab('posts')\"\n      >\n        历史发布\n      </view>\n      <view \n        class=\"tab-item\"\n        :class=\"{ active: activeTab === 'likes' }\"\n        @click=\"switchTab('likes')\"\n      >\n        我的点赞\n      </view>\n    </view>\n\n    <!-- 瀑布流内容区域 -->\n    <view class=\"content-area\">\n      <view v-if=\"isLoading\" class=\"loading\">加载中...</view>\n      <view v-else-if=\"currentContent.length === 0\" class=\"empty-hint\">\n        {{ activeTab === 'posts' ? '还没有发布过内容~' : '还没有点赞过内容~' }}\n      </view>\n      <view v-else class=\"waterfall\">\n        <view class=\"column\">\n          <home-poster\n            v-for=\"poster in leftColumn\"\n            :key=\"poster.id\"\n            :poster-data=\"poster\"\n          ></home-poster>\n        </view>\n        <view class=\"column\">\n          <home-poster\n            v-for=\"poster in rightColumn\"\n            :key=\"poster.id\"\n            :poster-data=\"poster\"\n          ></home-poster>\n        </view>\n      </view>\n    </view>\r\n\t\r\n\t<!-- 添加底部导航栏 -->\r\n\t<tab-bar></tab-bar>\n  </view>\n</template>\n\n<script>\r\nimport TabBar from '@/components/tabbar.vue';\nimport HomePoster from '../../components/homeposter.vue'\n\nexport default {\n  components: {\n    HomePoster,\r\n\tTabBar\n  },\n\n  data() {\n    return {\n      isLoading: false,\n      activeTab: 'posts',\n      userInfo: {\n        avatar: '/static/default-avatar.png',\n        nickname: '鸟类爱好者',\n        bio: '热爱自然，记录生活中的每一只小鸟',\n        postsCount: 42,\n        likesCount: 128,\n        level: 3\n      },\n      achievements: [\n        {\n          id: 1,\n          name: '初级观鸟员',\n          icon: '/static/icons/achievements/beginner.png'\n        },\n        {\n          id: 2,\n          name: '摄影新手',\n          icon: '/static/icons/achievements/photographer.png'\n        },\n        // 更多成就...\n      ],\n      posts: [],\n      likes: [],\n      leftColumn: [],\n      rightColumn: []\n    }\n  },\n\n  computed: {\n    currentContent() {\n      return this.activeTab === 'posts' ? this.posts : this.likes;\n    }\n  },\n\n  onLoad() {\n    this.loadContent();\n  },\n\n  methods: {\n    handleAvatarClick() {\n      uni.chooseImage({\n        count: 1,\n        success: (res) => {\n          // 处理头像上传逻辑\n          this.userInfo.avatar = res.tempFilePaths[0];\n        }\n      });\n    },\n\n    handleEditProfile() {\n      uni.navigateTo({\n        url: '/pages/EditProfile/EditProfile'\n      });\n    },\n\n    handleEditBio() {\n      uni.showModal({\n        title: '编辑个人介绍',\n        editable: true,\n        content: this.userInfo.bio,\n        success: (res) => {\n          if (res.confirm) {\n            this.userInfo.bio = res.content;\n          }\n        }\n      });\n    },\n\n    switchTab(tab) {\n      if (this.activeTab !== tab) {\n        this.activeTab = tab;\n        this.loadContent();\n      }\n    },\n\n    async loadContent() {\n      this.isLoading = true;\n      try {\n        // 模拟加载数据\n        setTimeout(() => {\n          const data = this.activeTab === 'posts' ? [\n            {\n              id: 1,\n              imageUrl: '/static/posts/bird1.jpg',\n              imageHeight: 200,\n              description: '今天拍到的小鸟',\n              views: 1234,\n              likes: 88\n            },\n            // 更多数据...\n          ] : [\n            {\n              id: 2,\n              imageUrl: '/static/posts/bird2.jpg',\n              imageHeight: 280,\n              description: '好漂亮的鸟儿！',\n              views: 2567,\n              likes: 189\n            },\n            // 更多数据...\n          ];\n\n          if (this.activeTab === 'posts') {\n            this.posts = data;\n          } else {\n            this.likes = data;\n          }\n          \n          this.distributeContent();\n          this.isLoading = false;\n        }, 500);\n      } catch (error) {\n        console.error('Load content error:', error);\n        this.isLoading = false;\n        uni.showToast({\n          title: '加载失败',\n          icon: 'none'\n        });\n      }\n    },\n\n    distributeContent() {\n      this.leftColumn = [];\n      this.rightColumn = [];\n      \n      this.currentContent.forEach((item, index) => {\n        if (index % 2 === 0) {\n          this.leftColumn.push(item);\n        } else {\n          this.rightColumn.push(item);\n        }\n      });\n    }\n  }\n}\n</script>\n\n<style scoped>\n.profile-container {\n  min-height: 100vh;\n  background-color: #FFF9E9;\n}\n\n.profile-header {\n  padding: 20px 16px;\n  background: #FFFFFF;\n  border-radius: 0 0 16px 16px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n}\n\n.header-content {\n  display: flex;\n  align-items: flex-start;\n}\n\n.avatar-section {\n  position: relative;\n  margin-right: 16px;\n}\n\n.avatar {\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  border: 2px solid #2EA3B7;\n}\n\n.edit-hint {\n  position: absolute;\n  bottom: -4px;\n  left: 50%;\n  transform: translateX(-50%);\n  background: rgba(46, 163, 183, 0.8);\n  color: white;\n  font-size: 10px;\n  padding: 2px 6px;\n  border-radius: 8px;\n}\n\n.user-info {\n  flex: 1;\n}\n\n.nickname-row {\n  display: flex;\n  align-items: center;\n  margin-bottom: 8px;\n}\n\n.nickname {\n  font-size: 20px;\n  font-weight: bold;\n  color: #1D1D2B;\n  margin-right: 8px;\n}\n\n.edit-icon {\n  width: 16px;\n  height: 16px;\n}\n\n.bio {\n  font-size: 14px;\n  color: #666;\n  margin-bottom: 12px;\n  line-height: 1.4;\n}\n\n.stats {\n  display: flex;\n  margin-top: 12px;\n}\n\n.stat-item {\n  margin-right: 24px;\n  text-align: center;\n}\n\n.stat-num {\n  font-size: 18px;\n  font-weight: bold;\n  color: #1D1D2B;\n  display: block;\n}\n\n.stat-label {\n  font-size: 12px;\n  color: #666;\n}\n\n.achievements {\n  margin-top: 16px;\n  white-space: nowrap;\n}\n\n.achievement-item {\n  display: inline-flex;\n  flex-direction: column;\n  align-items: center;\n  margin-right: 16px;\n}\n\n.achievement-icon {\n  width: 40px;\n  height: 40px;\n  margin-bottom: 4px;\n}\n\n.achievement-name {\n  font-size: 12px;\n  color: #666;\n}\n\n.content-tabs {\n  display: flex;\n  background: #FFFFFF;\n  padding: 12px 16px;\n  margin: 12px 0;\n}\n\n.tab-item {\n  flex: 1;\n  text-align: center;\n  padding: 8px 0;\n  font-size: 14px;\n  color: #666;\n  position: relative;\n}\n\n.tab-item.active {\n  color: #2EA3B7;\n  font-weight: bold;\n}\n\n.tab-item.active::after {\n  content: '';\n  position: absolute;\n  bottom: -8px;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 20px;\n  height: 2px;\n  background: #2EA3B7;\n  border-radius: 1px;\n}\n\n.content-area {\n  padding: 12px;\n}\n\n.loading, .empty-hint {\n  text-align: center;\n  padding: 40px 0;\n  color: #999;\n}\n\n.waterfall {\n  display: flex;\n  justify-content: space-between;\n}\n\n.column {\n  width: 48%;\n}\n</style>","import MiniProgramPage from 'D:/sitp项目/miniprogram/bird-frontend/pages/ProfilePage/ProfilePage.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":"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"}