{"version":3,"file":"MapPage.js","sources":["pages/MapPage/MapPage.vue","../../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvTWFwUGFnZS9NYXBQYWdlLnZ1ZQ"],"sourcesContent":["<template>\n    <view class=\"container\">\n        <!-- Search Bar -->\n        <view class=\"search-container\">\n            <view class=\"search-box\">\n                <text class=\"icon-search\">üîç</text>\n                <input\n                    type=\"text\"\n                    class=\"search-input\"\n                    placeholder=\"ÊêúÁ¥¢ÁõÆÁöÑÂú∞/È∏üÁ±ªÂêçÁß∞\"\n                    v-model=\"searchText\"\n                    @confirm=\"handleSearch\"\n                />\n            </view>\n        </view>\n\n        <!-- Map Container -->\n        <view class=\"map-container\">\n            <map\n                class=\"map\"\n                :latitude=\"latitude\"\n                :longitude=\"longitude\"\n                :markers=\"markers\"\n                :scale=\"scale\"\n                show-location\n            ></map>\n\n            <!-- My Location Button -->\n            <view class=\"location-btn\" @tap=\"moveToCurrentLocation\">\n                <text class=\"icon-location\">üìç</text>\n            </view>\n        </view>\r\n\t\t<!-- Ê∑ªÂä†Â∫ïÈÉ®ÂØºËà™Ê†è -->\r\n\t\t<tab-bar></tab-bar>\n    </view>\n</template>\r\n\r\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport TabBar from '@/components/tabbar.vue';\n// ÂìçÂ∫îÂºèÁä∂ÊÄÅ\nconst latitude = ref(31.2304)  // ÈªòËÆ§Á∫¨Â∫¶Ôºà‰∏äÊµ∑Ôºâ\nconst longitude = ref(121.4737)  // ÈªòËÆ§ÁªèÂ∫¶Ôºà‰∏äÊµ∑Ôºâ\nconst scale = ref(14)  // ÈªòËÆ§Áº©ÊîæÁ∫ßÂà´\nconst searchText = ref('')\nconst markers = ref([])\n\n// Ëé∑ÂèñÂΩìÂâç‰ΩçÁΩÆ\nconst getCurrentLocation = () => {\n    uni.getLocation({\n        type: 'gcj02',\n        success: (res) => {\n            latitude.value = res.latitude\n            longitude.value = res.longitude\n        },\n        fail: () => {\n            uni.showToast({\n                title: 'Êó†Ê≥ïËé∑Âèñ‰ΩçÁΩÆ',\n                icon: 'none'\n            })\n        }\n    })\n}\n\n// ÁßªÂä®Âà∞ÂΩìÂâç‰ΩçÁΩÆ\nconst moveToCurrentLocation = () => {\n    getCurrentLocation()\n}\n\n// Â§ÑÁêÜÊêúÁ¥¢\nconst handleSearch = async (e) => {\n    if (!searchText.value) return\n    \n    // ËøôÈáåÈúÄË¶ÅÊé•ÂÖ•ËÖæËÆØÂú∞ÂõæÊêúÁ¥¢API\n    // Á§∫‰æã‰ª£Á†ÅÔºö\n    /*\n    try {\n        const result = await searchLocation(searchText.value)\n        if (result && result.length > 0) {\n            latitude.value = result[0].latitude\n            longitude.value = result[0].longitude\n            markers.value = [{\n                id: 1,\n                latitude: result[0].latitude,\n                longitude: result[0].longitude,\n                title: result[0].name\n            }]\n        }\n    } catch (error) {\n        uni.showToast({\n            title: 'ÊêúÁ¥¢Â§±Ë¥•',\n            icon: 'none'\n        })\n    }\n    */\n}\n\n// È°µÈù¢Âä†ËΩΩÊó∂Ëé∑Âèñ‰ΩçÁΩÆ\nonMounted(() => {\n    getCurrentLocation()\n})\n</script>\r\n\r\n<style>\n.container {\n    position: relative;\n    height: 100vh;\n    background-color: #fffbeb;\n}\n\n.search-container {\n    position: fixed;\n    top: var(--status-bar-height);\n    left: 0;\n    right: 0;\n    z-index: 100;\n    padding: 20rpx;\n}\n\n.search-box {\n    display: flex;\n    align-items: center;\n    background-color: #ffffff;\n    border-radius: 100rpx;\n    padding: 16rpx 30rpx;\n    box-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.1);\n}\n\n.icon-search {\n    margin-right: 16rpx;\n    font-size: 32rpx;\n    color: #666;\n}\n\n.search-input {\n    flex: 1;\n    font-size: 28rpx;\n    color: #333;\n}\n\n.map-container {\n    position: relative;\n    height: 100%;\n    width: 100%;\n}\n\n.map {\n    width: 100%;\n    height: 100%;\n}\n\n.location-btn {\n    position: fixed;\n    right: 30rpx;\n    bottom: 120rpx;\n    background-color: #ffffff;\n    width: 80rpx;\n    height: 80rpx;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.1);\n}\n\n.icon-location {\n    font-size: 40rpx;\n}\n</style>","import MiniProgramPage from 'D:/sitpÈ°πÁõÆ/miniprogram/bird-frontend/pages/MapPage/MapPage.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","onMounted","MiniProgramPage"],"mappings":";;;;;AAuCA,MAAM,SAAS,MAAW;;;;AAE1B,UAAM,WAAWA,cAAG,IAAC,OAAO;AAC5B,UAAM,YAAYA,cAAG,IAAC,QAAQ;AAC9B,UAAM,QAAQA,cAAG,IAAC,EAAE;AACpB,UAAM,aAAaA,cAAG,IAAC,EAAE;AACzB,UAAM,UAAUA,cAAG,IAAC,EAAE;AAGtB,UAAM,qBAAqB,MAAM;AAC7BC,oBAAAA,MAAI,YAAY;AAAA,QACZ,MAAM;AAAA,QACN,SAAS,CAAC,QAAQ;AACd,mBAAS,QAAQ,IAAI;AACrB,oBAAU,QAAQ,IAAI;AAAA,QACzB;AAAA,QACD,MAAM,MAAM;AACRA,wBAAAA,MAAI,UAAU;AAAA,YACV,OAAO;AAAA,YACP,MAAM;AAAA,UACtB,CAAa;AAAA,QACJ;AAAA,MACT,CAAK;AAAA,IACL;AAGA,UAAM,wBAAwB,MAAM;AAChC,yBAAoB;AAAA,IACxB;AAGA,UAAM,eAAe,OAAO,MAAM;AAC9B,UAAI,CAAC,WAAW;AAAO;AAAA,IAwB3B;AAGAC,kBAAAA,UAAU,MAAM;AACZ,yBAAoB;AAAA,IACxB,CAAC;;;;;;;;;;;;;;;ACnGD,GAAG,WAAWC,SAAe;"}